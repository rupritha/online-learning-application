{"version":3,"file":"sc-product-line-item.js","sourceRoot":"","sources":["../../../../src/components/ui/product-line-item/sc-product-line-item.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Prop, Event, EventEmitter, Element } from '@stencil/core';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { isRtl } from '../../../functions/page-align';\nimport { Fee, ImageAttributes } from '../../../types';\n\n/**\n * @part base - The component base\n * @part product-line-item - The product line item\n * @part image - The product image\n * @part text - The product text\n * @part title - The product title\n * @part suffix - The product suffix\n * @part price - The product price\n * @part price__amount - The product price amount\n * @part price__description - The product price description\n * @part price__scratch - The product price scratch\n * @part static-quantity - The product static quantity\n * @part remove-icon__base - The product remove icon\n * @part quantity - The product quantity\n * @part quantity__minus - The product quantity minus\n * @part quantity__minus-icon - The product quantity minus icon\n * @part quantity__plus - The product quantity plus\n * @part quantity__plus-icon - The product quantity plus icon\n * @part quantity__input - The product quantity input\n * @part line-item__price-description - The line item price description\n */\n@Component({\n  tag: 'sc-product-line-item',\n  styleUrl: 'sc-product-line-item.scss',\n  shadow: true,\n})\nexport class ScProductLineItem {\n  @Element() el: HTMLScProductLineItemElement;\n\n  /** Image attributes. */\n  @Prop() image: ImageAttributes;\n\n  /** Product name */\n  @Prop() name: string;\n\n  /** Product monetary amount */\n  @Prop() amount: string;\n\n  /** The line item scratch amount */\n  @Prop() scratch: string;\n\n  /** Product display amount */\n  @Prop() displayAmount: string;\n\n  /** Product scratch display amount */\n  @Prop() scratchDisplayAmount: string;\n\n  /** Product line item fees. */\n  @Prop() fees: Fee[];\n\n  /** Price name */\n  @Prop() price?: string;\n\n  /** Product variant label */\n  @Prop() variant: string = '';\n\n  /** Quantity */\n  @Prop() quantity: number;\n\n  /** Recurring interval (i.e. monthly, once, etc.) */\n  @Prop() interval: string;\n\n  /** Trial text */\n  @Prop() trial: string;\n\n  /** Is the line item removable */\n  @Prop() removable: boolean;\n\n  /** Can we select the quantity */\n  @Prop() editable: boolean = true;\n\n  /** The max allowed. */\n  @Prop() max: number;\n\n  /** The SKU. */\n  @Prop() sku: string = '';\n\n  /** The purchasable status display */\n  @Prop() purchasableStatus: string;\n\n  /** Emitted when the quantity changes. */\n  @Event({ bubbles: false }) scUpdateQuantity: EventEmitter<number>;\n\n  /** Emitted when the quantity changes. */\n  @Event({ bubbles: false }) scRemove: EventEmitter<void>;\n\n  render() {\n    const isImageFallback = this.image?.type === 'fallback';\n  \n    return (\n      <div class=\"base\" part=\"base\">\n        <div\n          part=\"product-line-item\"\n          class={{\n            'item': true,\n            'item--has-image': !!this.image?.src,\n            'item--is-rtl': isRtl(),\n            'product-line-item__editable': this.editable,\n            'product-line-item__removable': this.removable,\n          }}\n        >\n          {!!this.image?.src ? <img {...(this.image as any)} part={isImageFallback ? \"placeholder__image\" : \"image\" } class={isImageFallback ? \"item__image-placeholder\" : \"item__image\"} /> : <div class=\"item__image-placeholder\" part=\"placeholder__image\"></div>}\n          <div class=\"item__text-container\">\n            <div class=\"item__row\">\n              <div class=\"item__title\" part=\"title\">\n                <slot name=\"title\">{this.name}</slot>\n              </div>\n              <div class=\"price\" part=\"price__amount\">\n                {!!this.scratch && this.scratch !== this.amount && <span class=\"item__scratch-price\">{this.scratch}</span>}\n                {this.amount}\n                <div class=\"price__description\" part=\"price__description\">\n                  {this.interval}\n                </div>\n              </div>\n            </div>\n\n            <div class=\"item__row\">\n              <div class=\"item__description\" part=\"description\">\n                {this.variant && <div>{this.variant}</div>}\n                {this.price && <div>{this.price}</div>}\n                {this.sku && (\n                  <div>\n                    {__('SKU:', 'surecart')} {this.sku}\n                  </div>\n                )}\n                {!!this.purchasableStatus && <div>{this.purchasableStatus}</div>}\n              </div>\n\n              <div class=\"item__description\" part=\"trial-fees\">\n                {!!this.trial && <div>{this.trial}</div>}\n                {(this.fees || []).map(fee => {\n                  return (\n                    <div>\n                      {fee?.display_amount} {fee?.description}\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n\n            <div class=\"item__row stick-bottom\">\n              {this.editable ? (\n                <sc-quantity-select\n                  max={this.max || Infinity}\n                  exportparts=\"base:quantity, minus:quantity__minus, minus-icon:quantity__minus-icon, plus:quantity__plus, plus-icon:quantity__plus-icon, input:quantity__input\"\n                  clickEl={this.el}\n                  quantity={this.quantity}\n                  size=\"small\"\n                  onScChange={e => e.detail && this.scUpdateQuantity.emit(e.detail)}\n                  aria-label={\n                    /** translators: %1$s: product name, %2$s: product price name */\n                    sprintf(__('Change Quantity - %1$s %2$s', 'surecart'), this.name, this.price)\n                  }\n                ></sc-quantity-select>\n              ) : (\n                <span class=\"item__description\" part=\"static-quantity\">\n                  {__('Qty:', 'surecart')} {this.quantity}\n                </span>\n              )}\n              {!!this.removable && (\n                <div\n                  class=\"item__remove-container\"\n                  onClick={() => this.scRemove.emit()}\n                  onKeyDown={e => {\n                    if (e.key === 'Enter') {\n                      this.scRemove.emit();\n                    }\n                  }}\n                  // translators: Remove Item - Product Name Product Price Name\n                  aria-label={sprintf(__('Remove Item - %1$s %2$s', 'surecart'), this.name, this.price)}\n                  tabIndex={0}\n                >\n                  <sc-icon exportparts=\"base:remove-icon__base\" class=\"item__remove\" name=\"x\" />\n                  <span class=\"item__remove-text\">{__('Remove', 'surecart')}</span>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]}